import{_ as L,u as U,r as _,e as M,o as n,c as i,a as t,w as P,b as l,i as V,f as B,t as d,F as u,g as p,h as j,j as z,n as f,p as G,d as F}from"./index-01b29ff1.js";import{u as $}from"./program-bd0a2f31.js";const s=h=>(G("data-v-aad535d7"),h=h(),F(),h),X=s(()=>t("div",{class:"row"},[t("div",{class:"col d-flex align-items-center page-bar"},[t("span",{class:"page-title"},"Reporte de calificaciones")])],-1)),J={class:"row"},q={class:"col mt-3 mb-3"},H={class:"card shadow-sm top-random"},K={class:"card-header d-flex justify-content-between text-random"},Q=s(()=>t("span",{class:"h6"},"RECORD ACADÉMICO",-1)),W=s(()=>t("span",{class:"fa-solid fa-print"},null,-1)),Y={class:"card-body"},Z={class:"mb-2 fw-bold text-random"},tt={class:"row"},st=s(()=>t("span",{style:{"font-weight":"bold","font-size":"0.8em","margin-right":"35px"}},"SEMESTRE",-1)),dt={style:{"font-size":"0.8em"}},et={class:"table table-sm table-bordered"},ot=s(()=>t("thead",{class:"table-dark"},[t("tr",null,[t("th",{style:{width:"85px"}},"CÓDIGO"),t("th",null,"CURSO"),t("th",{style:{width:"20px"}},"CL"),t("th",{style:{width:"20px"}},"CR"),t("th",{style:{width:"20px"}},"TC"),t("th",{style:{width:"35px"}},"NOTA")])],-1)),at={key:0},lt={key:1},nt={key:0},it={key:1},ct={class:"mb-2"},_t={class:"row"},rt={class:"col"},ut={class:"mt-3"},ht=s(()=>t("td",{class:"td-bold"},"TOTAL CURSOS",-1)),pt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),mt={class:"td-normal"},vt=s(()=>t("td",{class:"td-bold"},"TOTAL CRÉDITOS",-1)),bt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),Ct={class:"td-normal"},gt=s(()=>t("td",{class:"td-bold"},"PROMEDIO GENEREAL",-1)),yt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),At={class:"td-normal"},Ot={class:"col"},Rt={class:"mt-3"},xt=s(()=>t("td",{class:"td-bold"},"CURSOS APROBADOS",-1)),Dt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),St={class:"td-normal"},ft=s(()=>t("td",{class:"td-bold"},"CRÉDITOS APROBADOS",-1)),Et=s(()=>t("td",{class:"td-bold px-2"},":",-1)),wt={class:"td-normal"},It=s(()=>t("div",{class:"row mt-3",style:{"font-size":"0.7em"}},[t("div",{class:"col-auto"},"CL: Ciclo"),t("div",{class:"col-auto"},"CR: Créditos"),t("div",{class:"col"},"TC: Tipo Curso (O=Obligatorio; E=Electivo)")],-1)),Nt={key:0,class:"row"},Tt={class:"col mb-3"},kt={class:"print-page",id:"to-print-record"},Lt={class:"content-page container-fluid"},Ut=z('<div class="row" data-v-aad535d7><div class="col-auto px-0" data-v-aad535d7><div class="image-unsm" data-v-aad535d7></div></div><div class="col px-0" data-v-aad535d7><div class="d-flex justify-content-center unsm-name" data-v-aad535d7> UNIVERSIDAD NACIONAL DE SAN MARTÍN </div><div class="d-flex justify-content-center fcs-name" data-v-aad535d7> FACULTAD DE CIENCIAS DE LA SALUD </div><div class="d-flex justify-content-center use-name" data-v-aad535d7> UNIDAD DE SEGUNDA ESPECIALIDAD </div></div><div class="col-auto px-0" data-v-aad535d7><div class="image-fcs" data-v-aad535d7></div></div></div><div class="row" data-v-aad535d7><div class="col pt-2 pb-0 print-title" data-v-aad535d7>RECORD ACADÉMICO</div></div>',2),Mt={class:"row"},Pt={class:"col px-0"},Vt={class:"mt-3"},Bt=s(()=>t("td",{class:"td-bold"},"UNIDAD",-1)),jt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),zt={class:"td-normal"},Gt=s(()=>t("td",{class:"td-bold"},"PROGRAMA",-1)),Ft=s(()=>t("td",{class:"td-bold px-2"},":",-1)),$t={class:"td-normal"},Xt=s(()=>t("td",{class:"td-bold"},"SEDE",-1)),Jt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),qt={class:"td-normal"},Ht=s(()=>t("td",{class:"td-bold"},"ESTUDIANTE",-1)),Kt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),Qt={class:"td-normal"},Wt=s(()=>t("td",{class:"td-bold"},"CÓD/DNI",-1)),Yt=s(()=>t("td",{class:"td-bold px-2"},":",-1)),Zt={class:"td-normal"},ts={class:"row"},ss=s(()=>t("span",{style:{"font-weight":"bold","font-size":"0.8em","margin-right":"35px"}},"SEMESTRE",-1)),ds={style:{"font-size":"0.8em"}},es={class:"table table-sm table-bordered"},os=s(()=>t("thead",{class:"table-dark"},[t("tr",null,[t("th",{style:{width:"85px"}},"CÓDIGO"),t("th",null,"CURSO"),t("th",{style:{width:"20px"}},"CL"),t("th",{style:{width:"20px"}},"CR"),t("th",{style:{width:"20px"}},"TC"),t("th",{style:{width:"35px"}},"NOTA")])],-1)),as={key:0},ls={key:1},ns={key:0},is={key:1},cs={class:"row"},_s={class:"col px-0"},rs={class:"mt-3"},us=s(()=>t("td",{class:"td-bold"},"TOTAL CURSOS",-1)),hs=s(()=>t("td",{class:"td-bold px-2"},":",-1)),ps={class:"td-normal"},ms=s(()=>t("td",{class:"td-bold"},"TOTAL CRÉDITOS",-1)),vs=s(()=>t("td",{class:"td-bold px-2"},":",-1)),bs={class:"td-normal"},Cs=s(()=>t("td",{class:"td-bold"},"PROMEDIO GENEREAL",-1)),gs=s(()=>t("td",{class:"td-bold px-2"},":",-1)),ys={class:"td-normal"},As={class:"col px-0"},Os={class:"mt-3"},Rs=s(()=>t("td",{class:"td-bold"},"CURSOS APROBADOS",-1)),xs=s(()=>t("td",{class:"td-bold px-2"},":",-1)),Ds={class:"td-normal"},Ss=s(()=>t("td",{class:"td-bold"},"CRÉDITOS APROBADOS",-1)),fs=s(()=>t("td",{class:"td-bold px-2"},":",-1)),Es={class:"td-normal"},ws=s(()=>t("div",{class:"row legend mt-3"},[t("div",{class:"col-auto"},"CL: Ciclo"),t("div",{class:"col-auto"},"CR: Créditos"),t("div",{class:"col"},"TC: Tipo Curso (O=Obligatorio; E=Electivo)")],-1)),Is=s(()=>t("span",{class:"watermark"},"SOLO LECTURA",-1)),Ns={__name:"MarkView",setup(h){const m="https://usefcs.unsm.edu.pe/api",v=JSON.parse(localStorage.getItem("use")),R=localStorage.getItem("student"),{personName:E,personDocument:w}=U(m,v),{programName:x}=$(m,v,R);let D=_(""),S=_(""),b=_([]),C=_(0),g=_(0),y=_(0),A=_(0),O=_(0);(async()=>{let c=await(await fetch(m+"/intranet/student-academic-record",{headers:{"X-Accesss-Token":v,"X-Student-Id":R}})).json();D.value=c.principalOrganicUnit.description.toUpperCase(),S.value=c.studentData.Program.Organic_unit_register.Campu.denomination.toUpperCase(),b.value=c.registration,C.value=c.registration.map(a=>a.Registration_course.length).reduce((a,e)=>a+e,0),g.value=c.registration.map(a=>a.Registration_course.reduce((e,o)=>e+o.credits,0)).reduce((a,e)=>a+e,0),y.value=(c.registration.map(a=>a.Registration_course.reduce((T,k)=>T+k.note,0)/a.Registration_course.length).reduce((a,e)=>a+e,0)/c.registration.length).toFixed(2),A.value=c.registration.map(a=>a.Registration_course.filter(e=>e.type=="Aprobado").length).reduce((a,e)=>a+e),O.value=c.registration.map(a=>a.Registration_course.filter(e=>e.type=="Aprobado").reduce((e,o)=>e+o.credits,0)).reduce((a,e)=>a+e,0)})();let r=_(!1),I={id:"to-print-record",openCallback(){r.value=!1}};return(N,c)=>{const a=M("print");return n(),i(u,null,[X,t("div",J,[t("div",q,[t("div",H,[t("div",K,[Q,P((n(),i("span",{class:"cursor-pt",onClick:c[0]||(c[0]=e=>V(r)?r.value=!0:r=!0)},[W,B(" IMPRIMIR ")])),[[a,l(I)]])]),t("div",Y,[t("div",Z,d(l(x)),1),t("div",tt,[(n(!0),i(u,null,p(l(b),e=>(n(),i("div",{class:"col-12 mt-3",key:e.id},[st,t("span",dt,d(e.Academic_semester.Academic_calendar.denomination+" - "+e.Academic_semester.denomination),1),t("table",et,[ot,t("tbody",null,[(n(!0),i(u,null,p(e.Registration_course,o=>(n(),i("tr",{key:o.id},[t("td",null,d(o.code),1),t("td",null,d(o.denomination),1),t("td",null,d(o.ciclo),1),t("td",null,d(o.credits),1),t("td",null,[o.type_course=="Obligatorio"?(n(),i("span",at,"O")):(n(),i("span",lt,"E"))]),t("td",{class:f({"text-danger":o.type=="Desaprobado"})},[Number(o.note)>=10?(n(),i("span",nt,d(o.note),1)):(n(),i("span",it,d(`0${o.note}`),1))],2)]))),128))])])]))),128))]),t("div",ct,[t("div",_t,[t("div",rt,[t("div",ut,[t("table",null,[t("tbody",null,[t("tr",null,[ht,pt,t("td",mt,d(l(C)),1)]),t("tr",null,[vt,bt,t("td",Ct,d(l(g)),1)]),t("tr",null,[gt,yt,t("td",At,d(l(y)),1)])])])])]),t("div",Ot,[t("div",Rt,[t("table",null,[t("tbody",null,[t("tr",null,[xt,Dt,t("td",St,d(l(A)),1)]),t("tr",null,[ft,Et,t("td",wt,d(l(O)),1)])])])])])]),It])])])])]),l(r)?(n(),i("div",Nt,[t("div",Tt,[t("div",kt,[t("div",Lt,[Ut,t("div",Mt,[t("div",Pt,[t("div",Vt,[t("table",null,[t("tbody",null,[t("tr",null,[Bt,jt,t("td",zt,d(l(D)),1)]),t("tr",null,[Gt,Ft,t("td",$t,d(l(x)),1)]),t("tr",null,[Xt,Jt,t("td",qt,d(l(S)),1)]),t("tr",null,[Ht,Kt,t("td",Qt,d(l(E)),1)]),t("tr",null,[Wt,Yt,t("td",Zt,d(l(w)),1)])])])])])]),t("div",ts,[(n(!0),i(u,null,p(l(b),e=>(n(),i("div",{class:"col-12 mt-3 p-0",key:e.id},[ss,t("span",ds,d(e.Academic_semester.Academic_calendar.denomination+" - "+e.Academic_semester.denomination),1),t("table",es,[os,t("tbody",null,[(n(!0),i(u,null,p(e.Registration_course,o=>(n(),i("tr",{key:o.id},[t("td",null,d(o.code),1),t("td",null,d(o.denomination),1),t("td",null,d(o.ciclo),1),t("td",null,d(o.credits),1),t("td",null,[o.type_course=="Obligatorio"?(n(),i("span",as,"O")):(n(),i("span",ls,"E"))]),t("td",{class:f({"text-danger":o.type=="Desaprobado"})},[Number(o.note)>=10?(n(),i("span",ns,d(o.note),1)):(n(),i("span",is,d(`0${o.note}`),1))],2)]))),128))])])]))),128))]),t("div",cs,[t("div",_s,[t("div",rs,[t("table",null,[t("tbody",null,[t("tr",null,[us,hs,t("td",ps,d(l(C)),1)]),t("tr",null,[ms,vs,t("td",bs,d(l(g)),1)]),t("tr",null,[Cs,gs,t("td",ys,d(l(y)),1)])])])])]),t("div",As,[t("div",Os,[t("table",null,[t("tbody",null,[t("tr",null,[Rs,xs,t("td",Ds,d(l(A)),1)]),t("tr",null,[Ss,fs,t("td",Es,d(l(O)),1)])])])])])]),ws]),Is])])])):j("",!0)],64)}}},Us=L(Ns,[["__scopeId","data-v-aad535d7"]]);export{Us as default};
